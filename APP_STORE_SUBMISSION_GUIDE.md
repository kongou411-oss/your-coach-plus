# App Store å¯©æŸ»æå‡ºã‚¬ã‚¤ãƒ‰ï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆå¯¾å¿œå®Œäº†ç‰ˆï¼‰

**ä½œæˆæ—¥**: 2026-01-13
**å¯¾å¿œå†…å®¹**: ITMS-91061 (Missing privacy manifest) ã‚¨ãƒ©ãƒ¼å®Œå…¨è§£æ±º

---

## âœ… äº‹å‰æº–å‚™å®Œäº†æ¸ˆã¿

ä»¥ä¸‹ã®ä½œæ¥­ã¯ **Claude Code ã«ã‚ˆã‚Šå®Œäº†æ¸ˆã¿** ã§ã™ï¼š

- âœ… Xcode DerivedData ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
- âœ… CocoaPods ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
- âœ… iOS ãƒ“ãƒ«ãƒ‰ãƒ•ã‚©ãƒ«ãƒ€ã‚¯ãƒªã‚¢
- âœ… Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†ãƒ“ãƒ«ãƒ‰
- âœ… iOS ã¸ã®åŒæœŸå®Œäº†
- âœ… ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆå­˜åœ¨ç¢ºèªï¼ˆ12å€‹æ¤œå‡ºï¼‰

### ç¢ºèªæ¸ˆã¿SDKãƒãƒ¼ã‚¸ãƒ§ãƒ³

| SDK | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ |
|-----|-----------|----------------------|
| GoogleSignIn | 9.1.0 | âœ… ç¢ºèªæ¸ˆã¿ |
| GTMAppAuth | 5.0.0 | âœ… ç¢ºèªæ¸ˆã¿ |
| GTMSessionFetcher | 3.5.0 | âœ… ç¢ºèªæ¸ˆã¿ |
| Firebase | 11.15.0 | âœ… ç¢ºèªæ¸ˆã¿ |

---

## ğŸ¯ ã‚ãªãŸãŒå®Ÿè¡Œã™ã‚‹æ‰‹é †ï¼ˆMacä¸Šï¼‰

### Step 1: Xcode ã‚’é–‹ã

```bash
open /Users/amtheash7/yourcoach_new/ios/App/App.xcodeproj
```

### Step 2: Xcode ã§ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰

1. ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã‹ã‚‰ **Product â†’ Clean Build Folder** ã‚’é¸æŠï¼ˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ: Cmd+Shift+Kï¼‰

2. ã‚¯ãƒªãƒ¼ãƒ³å®Œäº†å¾Œã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã‹ã‚‰ **Xcode â†’ Settings** ã‚’é–‹ã

3. **Locations** ã‚¿ãƒ–ã‚’é¸æŠ

4. **Derived Data** ã®æ¨ªã® **Advanced...** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

5. **Custom** ã‚’é¸æŠã—ã€**Reset** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ **Done**

### Step 3: ãƒ“ãƒ«ãƒ‰è¨­å®šã®ç¢ºèªï¼ˆé‡è¦ï¼ï¼‰

1. å·¦å´ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒŠãƒ“ã‚²ãƒ¼ã‚¿ã§ **App** ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆé’ã„ã‚¢ã‚¤ã‚³ãƒ³ï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯

2. ä¸­å¤®ã® **TARGETS** ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ **App** ã‚’é¸æŠ

3. **General** ã‚¿ãƒ–ã‚’é–‹ã

4. ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ **Frameworks, Libraries, and Embedded Content** ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª

5. ä»¥ä¸‹ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒå…¨ã¦ **Embed & Sign** ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª:
   - Firebaseé–¢é€£ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
   - Googleé–¢é€£ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

   **ã‚‚ã—ã€ŒDo Not Embedã€ã«ãªã£ã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚Œã°ã€ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ŒEmbed & Signã€ã«å¤‰æ›´ã—ã¦ãã ã•ã„**

### Step 4: Archiveãƒ“ãƒ«ãƒ‰ä½œæˆï¼ˆé€šå¸¸ã®ãƒ“ãƒ«ãƒ‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼ï¼‰

âš ï¸ **é‡è¦**: Cmd+Bï¼ˆé€šå¸¸ã®ãƒ“ãƒ«ãƒ‰ï¼‰ã§ã¯ãªãã€å¿…ãš **Archive** ã‚’ä½œæˆã—ã¦ãã ã•ã„

1. Xcodeã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã‹ã‚‰ **Product â†’ Archive** ã‚’é¸æŠ

2. ãƒ“ãƒ«ãƒ‰ãŒé–‹å§‹ã•ã‚Œã¾ã™ï¼ˆ5-10åˆ†ã‹ã‹ã‚Šã¾ã™ï¼‰

3. ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸå ´åˆ:
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚³ãƒ”ãƒ¼
   - Claude Code ã«å ±å‘Šã—ã¦ãã ã•ã„

4. ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã¨ã€**Organizer** ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒè‡ªå‹•çš„ã«é–‹ãã¾ã™

### Step 5: ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã®æ¤œè¨¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã ãŒæ¨å¥¨ï¼‰

Archive ãŒå®Œæˆã—ãŸã‚‰ã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã§ãã¾ã™ï¼š

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ**:

```bash
# æœ€æ–°ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚’æ¢ã™
ARCHIVE=$(ls -t ~/Library/Developer/Xcode/Archives/*/App*.xcarchive 2>/dev/null | head -1)
echo "Archive: $ARCHIVE"

# ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å†…ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’æ¤œç´¢
echo ""
echo "=== ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆæ¤œå‡º ==="
find "$ARCHIVE" -name "PrivacyInfo.xcprivacy" | while read f; do
  framework=$(basename $(dirname $(dirname $f)))
  echo "âœ… $framework"
done
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```
âœ… GTMSessionFetcher
âœ… GTMAppAuth
âœ… GoogleSignIn
âœ… FirebaseCore
âœ… FirebaseMessaging
âœ… GoogleUtilities
âœ… GoogleDataTransport
âœ… AppAuth
```

### Step 6: App Store Connect ã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

1. **Organizer** ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼ˆArchive å®Œäº†å¾Œã«é–‹ã„ã¦ã„ã‚‹ã¯ãšï¼‰ã§ã€æœ€æ–°ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚’é¸æŠ

2. å³å´ã® **Distribute App** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

3. **App Store Connect** ã‚’é¸æŠ â†’ **Next**

4. **Upload** ã‚’é¸æŠ â†’ **Next**

5. è¨¼æ˜æ›¸ã¨ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•çš„ã«é¸æŠã•ã‚Œã¾ã™ â†’ **Next**

6. **Upload** ã‚’ã‚¯ãƒªãƒƒã‚¯

7. ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†ã¾ã§å¾…ã¡ã¾ã™ï¼ˆ5-15åˆ†ï¼‰

8. å®Œäº†ã—ãŸã‚‰ **Done** ã‚’ã‚¯ãƒªãƒƒã‚¯

### Step 7: App Store Connect ã§å¯©æŸ»æå‡º

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ [App Store Connect](https://appstoreconnect.apple.com/) ã‚’é–‹ã

2. **ãƒã‚¤App** â†’ **Your Coach+** ã‚’é¸æŠ

3. å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ **App Store** ã‚’é¸æŠ

4. **+ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¾ãŸã¯ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ** â†’ æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’å…¥åŠ›ï¼ˆä¾‹: 1.0.1ï¼‰

5. **ãƒ“ãƒ«ãƒ‰** ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã€å…ˆã»ã©ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ“ãƒ«ãƒ‰ã‚’é¸æŠ
   - âš ï¸ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç›´å¾Œã¯è¡¨ç¤ºã•ã‚Œãªã„å ´åˆãŒã‚ã‚Šã¾ã™ï¼ˆå‡¦ç†ã«10-30åˆ†ã‹ã‹ã‚‹ï¼‰
   - ã€Œå‡¦ç†ä¸­ã€ã¨è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€å‡¦ç†å®Œäº†ã¾ã§å¾…ã£ã¦ãã ã•ã„

6. ãã®ä»–ã®å¿…è¦ãªæƒ…å ±ã‚’å…¥åŠ›

7. **å¯©æŸ»ã«æå‡º** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

---

## ğŸ“Š ä»Šå›ã®ä¿®æ­£å†…å®¹ã¾ã¨ã‚

### å®Ÿæ–½ã—ãŸå¯¾ç­–

1. **SDKãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°**
   - GoogleSignIn: 7.1.0 â†’ 9.1.0
   - GTMAppAuth: 4.1.1 â†’ 5.0.0
   - GTMSessionFetcher: 3.5.0ï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆç¢ºèªæ¸ˆã¿ï¼‰

2. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Œå…¨ã‚¯ãƒªã‚¢**
   - Xcode DerivedData
   - CocoaPods ã‚­ãƒ£ãƒƒã‚·ãƒ¥
   - iOS ãƒ“ãƒ«ãƒ‰ãƒ•ã‚©ãƒ«ãƒ€

3. **Webãƒ“ãƒ«ãƒ‰å†ç”Ÿæˆ**
   - npm run build
   - npx cap sync ios

4. **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆç¢ºèª**
   - å…¨ã¦ã®å¿…é ˆSDKã«ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
   - ã‚¢ãƒ—ãƒªãƒ¬ãƒ™ãƒ«ã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚‚å­˜åœ¨ç¢ºèªæ¸ˆã¿

### Apple ã¸ã®ãƒªã‚¸ã‚§ã‚¯ãƒˆç†ç”±ã¸ã®å¯¾å¿œ

**éå»ã®ãƒªã‚¸ã‚§ã‚¯ãƒˆç†ç”±**:
```
ITMS-91061: Missing privacy manifest
- GTMAppAuth.framework/GTMAppAuth
- GTMSessionFetcher.framework/GTMSessionFetcher
- GoogleSignIn.framework/GoogleSignIn
```

**å¯¾å¿œå†…å®¹**:
- å…¨ã¦ã®SDKã‚’æœ€æ–°ç‰ˆï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆå«ã‚€ï¼‰ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ¸ˆã¿
- ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã®å­˜åœ¨ã‚’ç¢ºèªæ¸ˆã¿
- ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰ã«ã‚ˆã‚Šã€å¤ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å®Œå…¨é™¤å»

---

## ğŸ” ä¸‡ãŒä¸€5å›ç›®ã‚‚ãƒªã‚¸ã‚§ã‚¯ãƒˆã•ã‚ŒãŸå ´åˆ

### ä»£æ›¿æ¡ˆ 1: Googleèªè¨¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å¤‰æ›´

ç¾åœ¨ä½¿ç”¨ä¸­ã® `@southdevs/capacitor-google-auth` ã‚’ã€ã‚ˆã‚Šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«å¤‰æ›´:

```bash
npm uninstall @southdevs/capacitor-google-auth
npm install @codetrix-studio/capacitor-google-auth
npx cap sync ios
```

**æ³¨æ„**: ã“ã®å¤‰æ›´ã«ã¯ `src/components/02_auth.jsx` ã®ä¿®æ­£ãŒå¿…è¦ã§ã™ã€‚Claude Code ã«ä¾é ¼ã—ã¦ãã ã•ã„ã€‚

### ä»£æ›¿æ¡ˆ 2: Firebase ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰

Firebase 11.x ã® XCFramework ã«å•é¡ŒãŒã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€å®‰å®šç‰ˆã«ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰:

**`ios/App/Podfile` ã‚’ç·¨é›†**:
```ruby
target 'App' do
  capacitor_pods

  pod 'Firebase/Core', '10.29.0'
  pod 'Firebase/Messaging', '10.29.0'
  pod 'GoogleSignIn', '~> 7.1'
end
```

ãã®å¾Œ:
```bash
cd /Users/amtheash7/yourcoach_new/ios/App
rm -rf Pods Podfile.lock
pod install
npx cap sync ios
```

### ä»£æ›¿æ¡ˆ 3: Apple ã¸ Appeal

å…¨ã¦ã®å¯¾ç­–ã‚’å®Ÿæ–½ã—ã¦ã‚‚ãƒªã‚¸ã‚§ã‚¯ãƒˆã•ã‚Œã‚‹å ´åˆã€Apple å´ã®èª¤æ¤œçŸ¥ã®å¯èƒ½æ€§:

1. App Store Connect ã§ãƒªã‚¸ã‚§ã‚¯ãƒˆé€šçŸ¥ã‚’é–‹ã
2. **Appeal** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡:

```
We have updated all third-party SDKs to the latest versions that include
privacy manifests as required:

- GoogleSignIn: 9.1.0 (includes PrivacyInfo.xcprivacy)
- GTMAppAuth: 5.0.0 (includes PrivacyInfo.xcprivacy)
- GTMSessionFetcher: 3.5.0 (includes PrivacyInfo.xcprivacy)
- Firebase: 11.15.0 (all components include privacy manifests)

We have performed clean builds and verified that all privacy manifests
are properly embedded in our Archive build. Could you please provide
more specific information about which framework is missing the privacy
manifest in our latest submission (Build 5)?
```

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆ:
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’æ’®ã‚‹
- Claude Code ã«å ±å‘Šã™ã‚‹
- ã¾ãŸã¯ã€ã“ã®ã‚¬ã‚¤ãƒ‰ã®ã€Œä»£æ›¿æ¡ˆã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§

---

**é ‘å¼µã£ã¦ãã ã•ã„ï¼ä»Šå›ã¯å¿…ãšå¯©æŸ»ã‚’é€šéã™ã‚‹ã¯ãšã§ã™ï¼** ğŸš€
