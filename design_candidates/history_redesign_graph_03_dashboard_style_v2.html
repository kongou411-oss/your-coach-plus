<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å±¥æ­´æ”¹ä¿®æ¡ˆï¼ˆã‚°ãƒ©ãƒ•å¼ï¼‰3: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«å‹ v2ï¼ˆæ¨å¥¨ï¼‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .category-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .category-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        .metric-button {
            transition: all 0.2s ease;
        }
        .metric-button.active {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .chart-container {
            animation: fadeIn 0.4s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-100 p-4">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-2xl font-bold mb-2 text-gray-800">ğŸ“Š å±¥æ­´æ”¹ä¿®æ¡ˆï¼ˆã‚°ãƒ©ãƒ•å¼ï¼‰3: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«å‹ v2</h1>
        <div class="bg-yellow-100 border-l-4 border-yellow-500 p-3 mb-6">
            <p class="text-sm font-semibold text-yellow-800">â­ æ¨å¥¨æ¡ˆï¼ˆæ”¹è‰¯ç‰ˆï¼‰</p>
            <p class="text-xs text-yellow-700">å¤§ã‚«ãƒ†ã‚´ãƒª3ã¤ + å°ã‚«ãƒ†ã‚´ãƒªåˆ‡ã‚Šæ›¿ãˆã§1é …ç›®ãšã¤è¡¨ç¤ºã€‚è¦‹ã‚„ã™ã•é‡è¦–</p>
        </div>

        <!-- å¤§ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ¼ãƒ‰ï¼ˆ3ã¤ï¼‰ -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <!-- æ „é¤Šãƒ»é£Ÿäº‹ã‚«ãƒ¼ãƒ‰ -->
            <div class="category-card bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white" onclick="selectCategory('nutrition')">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <div class="text-sm opacity-90">ğŸ“Š æ „é¤Šãƒ»é£Ÿäº‹</div>
                        <div class="text-4xl font-bold mt-2">85ç‚¹</div>
                        <div class="text-sm opacity-75">/ 100ç‚¹</div>
                    </div>
                    <div class="text-right">
                        <div class="text-2xl font-bold text-green-200">â†‘</div>
                        <div class="text-sm">+3ç‚¹</div>
                    </div>
                </div>
                <div class="h-16 opacity-50">
                    <canvas id="nutrition-sparkline"></canvas>
                </div>
            </div>

            <!-- ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚«ãƒ¼ãƒ‰ -->
            <div class="category-card bg-gradient-to-br from-red-500 to-red-600 rounded-lg shadow-lg p-6 text-white" onclick="selectCategory('training')">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <div class="text-sm opacity-90">ğŸ’ª ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°</div>
                        <div class="text-4xl font-bold mt-2">88ç‚¹</div>
                        <div class="text-sm opacity-75">/ 100ç‚¹</div>
                    </div>
                    <div class="text-right">
                        <div class="text-2xl font-bold text-red-200">â†‘</div>
                        <div class="text-sm">+5ç‚¹</div>
                    </div>
                </div>
                <div class="h-16 opacity-50">
                    <canvas id="training-sparkline"></canvas>
                </div>
            </div>

            <!-- ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚«ãƒ¼ãƒ‰ -->
            <div class="category-card bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white" onclick="selectCategory('condition')">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <div class="text-sm opacity-90">ğŸ§˜ ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³</div>
                        <div class="text-4xl font-bold mt-2">24ç‚¹</div>
                        <div class="text-sm opacity-75">/ 30ç‚¹</div>
                    </div>
                    <div class="text-right">
                        <div class="text-2xl font-bold text-blue-200">â†’</div>
                        <div class="text-sm">Â±0ç‚¹</div>
                    </div>
                </div>
                <div class="h-16 opacity-50">
                    <canvas id="condition-sparkline"></canvas>
                </div>
            </div>
        </div>

        <!-- è©³ç´°è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
        <div id="detail-area" class="bg-white rounded-lg shadow-lg p-6">
            <!-- æ „é¤Šãƒ»é£Ÿäº‹ã®è©³ç´° -->
            <div id="nutrition-detail" class="detail-section">
                <h2 class="text-xl font-bold mb-4 text-green-700">ğŸ“Š æ „é¤Šãƒ»é£Ÿäº‹ - è©³ç´°</h2>

                <!-- å°ã‚«ãƒ†ã‚´ãƒªãƒœã‚¿ãƒ³ -->
                <div class="flex flex-wrap gap-2 mb-6">
                    <button class="metric-button active px-4 py-2 bg-green-100 text-green-700 rounded-full text-sm font-semibold" onclick="selectMetric('nutrition', 'calories')">
                        ğŸ”¥ ã‚«ãƒ­ãƒªãƒ¼
                    </button>
                    <button class="metric-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold" onclick="selectMetric('nutrition', 'protein')">
                        ğŸ¥© ã‚¿ãƒ³ãƒ‘ã‚¯è³ª
                    </button>
                    <button class="metric-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold" onclick="selectMetric('nutrition', 'fat')">
                        ğŸ§ˆ è„‚è³ª
                    </button>
                    <button class="metric-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold" onclick="selectMetric('nutrition', 'carbs')">
                        ğŸš ç³–è³ª
                    </button>
                    <button class="metric-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold" onclick="selectMetric('nutrition', 'fiber')">
                        ğŸ¥¬ é£Ÿç‰©ç¹Šç¶­
                    </button>
                    <button class="metric-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold" onclick="selectMetric('nutrition', 'vitamin')">
                        ğŸ’Š ãƒ“ã‚¿ãƒŸãƒ³
                    </button>
                    <button class="metric-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold" onclick="selectMetric('nutrition', 'mineral')">
                        âš¡ ãƒŸãƒãƒ©ãƒ«
                    </button>
                </div>

                <!-- é¸æŠä¸­ã®æŒ‡æ¨™ã®è©³ç´°ã‚°ãƒ©ãƒ• -->
                <div id="nutrition-chart-container" class="chart-container">
                    <div class="flex justify-between items-center mb-4">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800">ğŸ”¥ ã‚«ãƒ­ãƒªãƒ¼</h3>
                            <p class="text-sm text-gray-500">éå»7æ—¥é–“ã®æ¨ç§»</p>
                        </div>
                        <div class="text-right">
                            <div class="text-4xl font-bold text-blue-600">2,450</div>
                            <div class="text-sm text-gray-500">kcal</div>
                            <div class="text-sm font-semibold text-green-600 mt-1">ç›®æ¨™: 2,500kcal (98%)</div>
                        </div>
                    </div>
                    <canvas id="nutrition-detail-chart" height="100"></canvas>
                    <div class="mt-4 grid grid-cols-3 gap-4 text-center">
                        <div class="bg-blue-50 p-3 rounded">
                            <div class="text-xs text-gray-600">å¹³å‡</div>
                            <div class="text-xl font-bold text-blue-600">2,420kcal</div>
                        </div>
                        <div class="bg-green-50 p-3 rounded">
                            <div class="text-xs text-gray-600">æœ€é«˜</div>
                            <div class="text-xl font-bold text-green-600">2,500kcal</div>
                        </div>
                        <div class="bg-orange-50 p-3 rounded">
                            <div class="text-xs text-gray-600">æœ€ä½</div>
                            <div class="text-xl font-bold text-orange-600">2,380kcal</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã®è©³ç´° -->
            <div id="training-detail" class="detail-section hidden">
                <h2 class="text-xl font-bold mb-4 text-red-700">ğŸ’ª ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚° - è©³ç´°</h2>

                <!-- å°ã‚«ãƒ†ã‚´ãƒªãƒœã‚¿ãƒ³ -->
                <div class="flex flex-wrap gap-2 mb-6">
                    <button class="metric-button active px-4 py-2 bg-red-100 text-red-700 rounded-full text-sm font-semibold" onclick="selectMetric('training', 'rm')">
                        ğŸ‹ï¸ RMè¨˜éŒ²
                    </button>
                    <button class="metric-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold" onclick="selectMetric('training', 'habit')">
                        ğŸ“ˆ é‹å‹•ç¿’æ…£ç‡
                    </button>
                </div>

                <!-- é¸æŠä¸­ã®æŒ‡æ¨™ã®è©³ç´°ã‚°ãƒ©ãƒ• -->
                <div id="training-chart-container" class="chart-container">
                    <div class="flex justify-between items-center mb-4">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800">ğŸ‹ï¸ RMè¨˜éŒ²</h3>
                            <p class="text-sm text-gray-500">éå»4é€±é–“ã®æ¨ç§»</p>
                        </div>
                    </div>
                    <canvas id="training-detail-chart" height="100"></canvas>
                    <div class="mt-4 grid grid-cols-3 gap-4">
                        <div class="bg-blue-50 p-3 rounded">
                            <div class="text-xs text-gray-600">ãƒ™ãƒ³ãƒãƒ—ãƒ¬ã‚¹ 1RM</div>
                            <div class="text-2xl font-bold text-blue-600">100kg</div>
                            <div class="text-sm text-green-600 font-semibold">â†‘ +2kg</div>
                        </div>
                        <div class="bg-purple-50 p-3 rounded">
                            <div class="text-xs text-gray-600">ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆ 5RM</div>
                            <div class="text-2xl font-bold text-purple-600">120kg</div>
                            <div class="text-sm text-gray-400">-</div>
                        </div>
                        <div class="bg-orange-50 p-3 rounded">
                            <div class="text-xs text-gray-600">ãƒ‡ãƒƒãƒ‰ãƒªãƒ•ãƒˆ 3RM</div>
                            <div class="text-2xl font-bold text-orange-600">150kg</div>
                            <div class="text-sm text-green-600 font-semibold">â†‘ +5kg</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã®è©³ç´° -->
            <div id="condition-detail" class="detail-section hidden">
                <h2 class="text-xl font-bold mb-4 text-blue-700">ğŸ§˜ ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ - è©³ç´°</h2>

                <!-- å°ã‚«ãƒ†ã‚´ãƒªãƒœã‚¿ãƒ³ -->
                <div class="flex flex-wrap gap-2 mb-6">
                    <button class="metric-button active px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold" onclick="selectMetric('condition', 'total')">
                        ğŸ¯ ç·åˆã‚¹ã‚³ã‚¢
                    </button>
                    <button class="metric-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold" onclick="selectMetric('condition', 'sleep')">
                        ğŸ˜´ ç¡çœ ã®è³ª
                    </button>
                    <button class="metric-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold" onclick="selectMetric('condition', 'appetite')">
                        ğŸ½ï¸ é£Ÿæ¬²
                    </button>
                    <button class="metric-button px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold" onclick="selectMetric('condition', 'focus')">
                        ğŸ§  é›†ä¸­åŠ›
                    </button>
                </div>

                <!-- é¸æŠä¸­ã®æŒ‡æ¨™ã®è©³ç´°ã‚°ãƒ©ãƒ• -->
                <div id="condition-chart-container" class="chart-container">
                    <div class="flex justify-between items-center mb-4">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800">ğŸ¯ ç·åˆã‚¹ã‚³ã‚¢</h3>
                            <p class="text-sm text-gray-500">éå»7æ—¥é–“ã®æ¨ç§»</p>
                        </div>
                        <div class="text-right">
                            <div class="text-4xl font-bold text-blue-600">24</div>
                            <div class="text-sm text-gray-500">/ 30ç‚¹</div>
                        </div>
                    </div>
                    <canvas id="condition-detail-chart" height="100"></canvas>
                    <div class="mt-4 grid grid-cols-3 gap-4 text-center">
                        <div class="bg-blue-50 p-3 rounded">
                            <div class="text-xs text-gray-600">å¹³å‡</div>
                            <div class="text-xl font-bold text-blue-600">24.0ç‚¹</div>
                        </div>
                        <div class="bg-green-50 p-3 rounded">
                            <div class="text-xs text-gray-600">æœ€é«˜</div>
                            <div class="text-xl font-bold text-green-600">26ç‚¹</div>
                        </div>
                        <div class="bg-orange-50 p-3 rounded">
                            <div class="text-xs text-gray-600">æœ€ä½</div>
                            <div class="text-xl font-bold text-orange-600">22ç‚¹</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ -->
        <div class="bg-white rounded-lg shadow-md p-4 mt-6">
            <h3 class="font-bold text-lg mb-3 text-gray-800">âœ… ãƒ¡ãƒªãƒƒãƒˆï¼ˆv2æ”¹è‰¯ç‰ˆï¼‰</h3>
            <ul class="list-disc pl-5 space-y-1 text-sm text-gray-700 mb-4">
                <li><strong>3ã¤ã®å¤§ã‚«ãƒ†ã‚´ãƒªã®ã¿</strong>ã§è¦‹ã‚„ã™ãã€ç„¡é™ã«å¢—ãˆãªã„</li>
                <li>å°ã‚«ãƒ†ã‚´ãƒªåˆ‡ã‚Šæ›¿ãˆã§<strong>1é …ç›®ãšã¤å¤§ããè¡¨ç¤º</strong>ï¼ˆè¦–èªæ€§ãŒé«˜ã„ï¼‰</li>
                <li>å¤§ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ¼ãƒ‰ã§<strong>å…¨ä½“ã®ã‚¹ã‚³ã‚¢ã‚’ä¸€ç›®ã§ç¢ºèª</strong></li>
                <li>è©³ç´°ã‚°ãƒ©ãƒ•ã¯<strong>çµ±è¨ˆæƒ…å ±ä»˜ã</strong>ï¼ˆå¹³å‡ãƒ»æœ€é«˜ãƒ»æœ€ä½ï¼‰</li>
                <li>ãƒ¢ãƒã‚¤ãƒ«ã§ã‚‚å¿«é©ã«æ“ä½œã§ãã‚‹</li>
            </ul>
            <h3 class="font-bold text-lg mb-3 text-gray-800">âš ï¸ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h3>
            <ul class="list-disc pl-5 space-y-1 text-sm text-gray-700">
                <li>è¤‡æ•°ã®å°ã‚«ãƒ†ã‚´ãƒªã‚’åŒæ™‚ã«æ¯”è¼ƒã§ããªã„ï¼ˆåˆ‡ã‚Šæ›¿ãˆãŒå¿…è¦ï¼‰</li>
            </ul>
        </div>

        <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-6">
            <h3 class="font-bold text-green-800 mb-2">ğŸ¯ v2ã®æ”¹è‰¯ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ol class="list-decimal pl-5 space-y-1 text-sm text-green-900">
                <li><strong>å¤§ã‚«ãƒ†ã‚´ãƒªã‚’3ã¤ã«å›ºå®š</strong>: ã‚«ãƒ¼ãƒ‰ã®ç„¡é™å¢—æ®–ã‚’é˜²æ­¢</li>
                <li><strong>1é …ç›®ãšã¤è¡¨ç¤º</strong>: è¦‹ã‚„ã™ã•é‡è¦–ã§ã€é¸æŠã—ãŸæŒ‡æ¨™ã ã‘ã‚’å¤§ããè¡¨ç¤º</li>
                <li><strong>å°ã‚«ãƒ†ã‚´ãƒªã¯ãƒœã‚¿ãƒ³åˆ‡ã‚Šæ›¿ãˆ</strong>: ã‚¿ãƒƒãƒ—ã§ç°¡å˜ã«åˆ‡ã‚Šæ›¿ãˆå¯èƒ½</li>
                <li><strong>çµ±è¨ˆæƒ…å ±ã‚’è¿½åŠ </strong>: å¹³å‡ãƒ»æœ€é«˜ãƒ»æœ€ä½ã‚’è¡¨ç¤ºã—ã€ãƒ‡ãƒ¼ã‚¿ã®å‚¾å‘ã‚’æŠŠæ¡</li>
                <li><strong>ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹æˆ</strong>: ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é‡ã‚’æœ€å°åŒ–</li>
            </ol>
        </div>
    </div>

    <script>
        let currentCategory = 'nutrition';
        let currentMetric = { nutrition: 'calories', training: 'rm', condition: 'total' };
        let charts = {};

        // ã‚¹ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ³æç”»
        function createSparkline(canvasId, data, color) {
            const ctx = document.getElementById(canvasId);
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['', '', '', '', '', '', ''],
                    datasets: [{
                        data: data,
                        borderColor: color,
                        borderWidth: 2,
                        pointRadius: 0,
                        fill: false,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false }, tooltip: { enabled: false } },
                    scales: { x: { display: false }, y: { display: false } }
                }
            });
        }

        // åˆæœŸåŒ–
        createSparkline('nutrition-sparkline', [80, 82, 85, 83, 87, 82, 85], 'rgba(255,255,255,0.8)');
        createSparkline('training-sparkline', [82, 85, 86, 88, 87, 86, 88], 'rgba(255,255,255,0.8)');
        createSparkline('condition-sparkline', [22, 24, 26, 24, 23, 25, 24], 'rgba(255,255,255,0.8)');

        // ã‚«ãƒ†ã‚´ãƒªé¸æŠ
        function selectCategory(category) {
            currentCategory = category;
            document.querySelectorAll('.detail-section').forEach(el => el.classList.add('hidden'));
            document.getElementById(`${category}-detail`).classList.remove('hidden');

            // é¸æŠä¸­ã®å°ã‚«ãƒ†ã‚´ãƒªã‚’è¡¨ç¤º
            selectMetric(category, currentMetric[category]);
        }

        // å°ã‚«ãƒ†ã‚´ãƒªé¸æŠ
        function selectMetric(category, metric) {
            currentMetric[category] = metric;

            // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’æ›´æ–°
            const buttons = document.querySelectorAll(`#${category}-detail .metric-button`);
            buttons.forEach(btn => {
                btn.classList.remove('active', 'bg-green-100', 'text-green-700', 'bg-red-100', 'text-red-700', 'bg-blue-100', 'text-blue-700');
                btn.classList.add('bg-gray-100', 'text-gray-700');
            });
            event.target.classList.add('active');
            event.target.classList.remove('bg-gray-100', 'text-gray-700');

            if (category === 'nutrition') {
                event.target.classList.add('bg-green-100', 'text-green-700');
                updateNutritionChart(metric);
            } else if (category === 'training') {
                event.target.classList.add('bg-red-100', 'text-red-700');
                updateTrainingChart(metric);
            } else if (category === 'condition') {
                event.target.classList.add('bg-blue-100', 'text-blue-700');
                updateConditionChart(metric);
            }
        }

        // æ „é¤Šã‚°ãƒ©ãƒ•æ›´æ–°
        function updateNutritionChart(metric) {
            const data = {
                calories: { values: [2400, 2450, 2500, 2420, 2380, 2460, 2480], label: 'ğŸ”¥ ã‚«ãƒ­ãƒªãƒ¼', unit: 'kcal', color: 'rgb(59, 130, 246)' },
                protein: { values: [145, 150, 155, 148, 142, 152, 150], label: 'ğŸ¥© ã‚¿ãƒ³ãƒ‘ã‚¯è³ª', unit: 'g', color: 'rgb(6, 182, 212)' },
                fat: { values: [60, 65, 68, 63, 62, 64, 65], label: 'ğŸ§ˆ è„‚è³ª', unit: 'g', color: 'rgb(245, 158, 11)' },
                carbs: { values: [280, 285, 290, 280, 275, 290, 295], label: 'ğŸš ç³–è³ª', unit: 'g', color: 'rgb(34, 197, 94)' },
                fiber: { values: [23, 24, 25, 25, 24, 24, 25], label: 'ğŸ¥¬ é£Ÿç‰©ç¹Šç¶­', unit: 'g', color: 'rgb(132, 204, 22)' },
                vitamin: { values: [75, 76, 78, 79, 78, 77, 78], label: 'ğŸ’Š ãƒ“ã‚¿ãƒŸãƒ³', unit: '%', color: 'rgb(168, 85, 247)' },
                mineral: { values: [80, 81, 82, 83, 82, 81, 82], label: 'âš¡ ãƒŸãƒãƒ©ãƒ«', unit: '%', color: 'rgb(249, 115, 22)' }
            };

            const selected = data[metric];
            if (charts['nutrition']) charts['nutrition'].destroy();

            charts['nutrition'] = new Chart(document.getElementById('nutrition-detail-chart'), {
                type: 'line',
                data: {
                    labels: ['æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ', 'æ—¥'],
                    datasets: [{
                        label: selected.label,
                        data: selected.values,
                        borderColor: selected.color,
                        backgroundColor: selected.color.replace('rgb', 'rgba').replace(')', ', 0.1)'),
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: { legend: { display: false } }
                }
            });

            // ã‚¿ã‚¤ãƒˆãƒ«ã¨æ•°å€¤ã‚’æ›´æ–°
            const container = document.getElementById('nutrition-chart-container');
            container.querySelector('h3').textContent = selected.label;
            container.querySelector('.text-4xl').textContent = selected.values[selected.values.length - 1];
            container.querySelector('.text-sm.text-gray-500').textContent = selected.unit;
        }

        // ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚°ãƒ©ãƒ•æ›´æ–°
        function updateTrainingChart(metric) {
            if (metric === 'rm') {
                if (charts['training']) charts['training'].destroy();
                charts['training'] = new Chart(document.getElementById('training-detail-chart'), {
                    type: 'line',
                    data: {
                        labels: ['ç¬¬1é€±', 'ç¬¬2é€±', 'ç¬¬3é€±', 'ç¬¬4é€±'],
                        datasets: [
                            { label: 'ãƒ™ãƒ³ãƒãƒ—ãƒ¬ã‚¹ 1RM', data: [95, 97, 98, 100], borderColor: 'rgb(59, 130, 246)', tension: 0.4 },
                            { label: 'ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆ 5RM', data: [115, 117, 118, 120], borderColor: 'rgb(168, 85, 247)', tension: 0.4 },
                            { label: 'ãƒ‡ãƒƒãƒ‰ãƒªãƒ•ãƒˆ 3RM', data: [140, 143, 145, 150], borderColor: 'rgb(249, 115, 22)', tension: 0.4 }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: { legend: { display: true, position: 'bottom' } }
                    }
                });
            } else if (metric === 'habit') {
                if (charts['training']) charts['training'].destroy();
                charts['training'] = new Chart(document.getElementById('training-detail-chart'), {
                    type: 'bar',
                    data: {
                        labels: ['æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ', 'æ—¥'],
                        datasets: [{
                            label: 'é‹å‹•å®Ÿæ–½',
                            data: [1, 1, 0, 1, 1, 1, 1],
                            backgroundColor: ['rgb(34, 197, 94)', 'rgb(34, 197, 94)', 'rgb(229, 231, 235)', 'rgb(34, 197, 94)', 'rgb(34, 197, 94)', 'rgb(34, 197, 94)', 'rgb(34, 197, 94)']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: { legend: { display: false } },
                        scales: { y: { beginAtZero: true, max: 1, ticks: { stepSize: 1 } } }
                    }
                });
            }
        }

        // ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚°ãƒ©ãƒ•æ›´æ–°
        function updateConditionChart(metric) {
            const data = {
                total: { values: [22, 24, 26, 24, 23, 25, 24], label: 'ğŸ¯ ç·åˆã‚¹ã‚³ã‚¢', unit: 'ç‚¹', color: 'rgb(59, 130, 246)' },
                sleep: { values: [7, 8, 9, 8, 7, 8, 8], label: 'ğŸ˜´ ç¡çœ ã®è³ª', unit: '/ 10', color: 'rgb(59, 130, 246)' },
                appetite: { values: [7, 8, 8, 8, 7, 8, 8], label: 'ğŸ½ï¸ é£Ÿæ¬²', unit: '/ 10', color: 'rgb(34, 197, 94)' },
                focus: { values: [8, 8, 9, 8, 9, 9, 8], label: 'ğŸ§  é›†ä¸­åŠ›', unit: '/ 10', color: 'rgb(168, 85, 247)' }
            };

            const selected = data[metric];
            if (charts['condition']) charts['condition'].destroy();

            charts['condition'] = new Chart(document.getElementById('condition-detail-chart'), {
                type: 'line',
                data: {
                    labels: ['æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ', 'æ—¥'],
                    datasets: [{
                        label: selected.label,
                        data: selected.values,
                        borderColor: selected.color,
                        backgroundColor: selected.color.replace('rgb', 'rgba').replace(')', ', 0.1)'),
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true, max: metric === 'total' ? 30 : 10 } }
                }
            });

            const container = document.getElementById('condition-chart-container');
            container.querySelector('h3').textContent = selected.label;
            container.querySelector('.text-4xl').textContent = selected.values[selected.values.length - 1];
            container.querySelector('.text-sm.text-gray-500').textContent = selected.unit;
        }

        // åˆæœŸè¡¨ç¤º
        updateNutritionChart('calories');
        updateTrainingChart('rm');
        updateConditionChart('total');
    </script>
</body>
</html>