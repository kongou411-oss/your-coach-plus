<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>候補2: タブ切り替え型分析</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-gray-50">
    <div class="max-w-md mx-auto min-h-screen">
        <!-- 候補2: タブ切り替え型 -->
        <!-- 特徴: サマリー/詳細/AI の3つのタブで情報を分離 -->

        <!-- ヘッダー -->
        <header class="p-4 flex items-center border-b bg-gradient-to-r from-purple-600 to-indigo-600">
            <button class="text-white">
                <i data-lucide="arrow-left" class="w-6 h-6"></i>
            </button>
            <h1 class="text-xl font-bold mx-auto text-white">本日の分析</h1>
            <div class="w-6"></div>
        </header>

        <!-- タブナビゲーション -->
        <div class="bg-white border-b sticky top-0 z-20">
            <div class="flex">
                <button id="tab-summary" class="flex-1 py-3 px-4 text-sm font-bold border-b-2 border-purple-600 text-purple-600 bg-purple-50">
                    サマリー
                </button>
                <button id="tab-details" class="flex-1 py-3 px-4 text-sm font-bold border-b-2 border-transparent text-gray-500 hover:text-gray-700">
                    詳細
                </button>
                <button id="tab-ai" class="flex-1 py-3 px-4 text-sm font-bold border-b-2 border-transparent text-gray-500 hover:text-gray-700">
                    AI
                </button>
            </div>
        </div>

        <!-- タブコンテンツ: サマリー -->
        <div id="content-summary" class="p-4 space-y-4">
            <!-- 総合評価 -->
            <div class="bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-6 border border-purple-200 text-center">
                <p class="text-sm text-gray-600 mb-2">総合達成率</p>
                <p class="text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 mb-2">
                    92%
                </p>
                <span class="px-4 py-2 bg-green-100 text-green-700 rounded-full text-sm font-semibold inline-flex items-center gap-2">
                    <i data-lucide="star" class="w-4 h-4"></i>
                    優秀
                </span>
                <p class="text-xs text-gray-500 mt-2">10/15 (火)</p>
            </div>

            <!-- PFC達成率グリッド -->
            <div class="grid grid-cols-2 gap-3">
                <div class="bg-white rounded-lg p-3 border border-gray-200">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-xs text-gray-600">カロリー</span>
                        <span class="text-sm font-bold text-indigo-600">95%</span>
                    </div>
                    <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                        <div class="h-full bg-indigo-600 rounded-full" style="width: 95%"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">2,100 / 2,200kcal</p>
                </div>

                <div class="bg-white rounded-lg p-3 border border-gray-200">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-xs text-gray-600">タンパク質</span>
                        <span class="text-sm font-bold text-cyan-600">102%</span>
                    </div>
                    <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                        <div class="h-full bg-cyan-600 rounded-full" style="width: 100%"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">184 / 180g</p>
                </div>

                <div class="bg-white rounded-lg p-3 border border-gray-200">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-xs text-gray-600">脂質</span>
                        <span class="text-sm font-bold text-yellow-600">88%</span>
                    </div>
                    <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                        <div class="h-full bg-yellow-600 rounded-full" style="width: 88%"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">53 / 60g</p>
                </div>

                <div class="bg-white rounded-lg p-3 border border-gray-200">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-xs text-gray-600">炭水化物</span>
                        <span class="text-sm font-bold text-green-600">91%</span>
                    </div>
                    <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                        <div class="h-full bg-green-600 rounded-full" style="width: 91%"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">228 / 250g</p>
                </div>
            </div>

            <!-- クイックインサイト -->
            <div class="bg-white rounded-xl border border-gray-200 p-4">
                <h4 class="font-bold mb-2 text-sm text-gray-800">今日のハイライト</h4>
                <ul class="space-y-2 text-xs text-gray-700">
                    <li class="flex items-start gap-2">
                        <i data-lucide="check-circle" class="w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"></i>
                        <span>タンパク質を目標の102%達成</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <i data-lucide="check-circle" class="w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"></i>
                        <span>カロリーがほぼ完璧（95%）</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <i data-lucide="alert-circle" class="w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"></i>
                        <span>脂質がやや不足気味（88%）</span>
                    </li>
                </ul>
            </div>
        </div>

        <!-- タブコンテンツ: 詳細（初期非表示） -->
        <div id="content-details" class="p-4 space-y-4 hidden">
            <!-- 傾向分析 -->
            <div class="bg-white rounded-xl border border-gray-200 p-4">
                <h4 class="font-bold mb-3 flex items-center gap-2 text-gray-800 text-sm">
                    <i data-lucide="trending-up" class="w-4 h-4 text-purple-600"></i>
                    体質・傾向分析
                    <span class="ml-auto text-xs text-gray-500 font-normal">過去30日</span>
                </h4>
                <div class="space-y-2">
                    <div class="bg-purple-50 p-3 rounded-lg border border-purple-100">
                        <p class="text-xs text-gray-700 font-medium mb-1">カロリー摂取の一貫性</p>
                        <p class="text-xs text-gray-600">高い（平均2,150kcal）</p>
                    </div>
                    <div class="bg-purple-50 p-3 rounded-lg border border-purple-100">
                        <p class="text-xs text-gray-700 font-medium mb-1">タンパク質摂取</p>
                        <p class="text-xs text-gray-600">十分（平均180g/日）</p>
                    </div>
                    <div class="bg-purple-50 p-3 rounded-lg border border-purple-100">
                        <p class="text-xs text-gray-700 font-medium mb-1">トレーニング頻度</p>
                        <p class="text-xs text-gray-600">週4.5回</p>
                    </div>
                    <div class="bg-purple-50 p-3 rounded-lg border border-purple-100">
                        <p class="text-xs text-gray-700 font-medium mb-1">睡眠の質</p>
                        <p class="text-xs text-gray-600">平均7.2時間、質: 良好</p>
                    </div>
                </div>
            </div>

            <!-- 改善提案 -->
            <div class="bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl border border-amber-200 p-4">
                <h4 class="font-bold mb-3 flex items-center gap-2 text-gray-800 text-sm">
                    <i data-lucide="lightbulb" class="w-4 h-4 text-amber-600"></i>
                    改善提案
                </h4>
                <div class="space-y-2">
                    <div class="flex items-start gap-2">
                        <i data-lucide="check-circle" class="w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"></i>
                        <p class="text-xs text-gray-700">現在の食事・トレーニング習慣を継続しましょう！</p>
                    </div>
                    <div class="flex items-start gap-2">
                        <i data-lucide="arrow-up-circle" class="w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"></i>
                        <p class="text-xs text-gray-700">脂質を目標に近づけるため、アボカドやナッツを追加すると良いでしょう。</p>
                    </div>
                </div>
            </div>

            <!-- 週間トレンド -->
            <div class="bg-white rounded-xl border border-gray-200 p-4">
                <h4 class="font-bold mb-3 flex items-center gap-2 text-gray-800 text-sm">
                    <i data-lucide="activity" class="w-4 h-4 text-indigo-600"></i>
                    週間トレンド
                </h4>
                <div class="space-y-3">
                    <div>
                        <div class="flex justify-between text-xs text-gray-600 mb-1">
                            <span>カロリー達成率</span>
                            <span>平均93%</span>
                        </div>
                        <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                            <div class="h-full bg-indigo-600 rounded-full" style="width: 93%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between text-xs text-gray-600 mb-1">
                            <span>タンパク質達成率</span>
                            <span>平均98%</span>
                        </div>
                        <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                            <div class="h-full bg-cyan-600 rounded-full" style="width: 98%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between text-xs text-gray-600 mb-1">
                            <span>記録継続率</span>
                            <span>7/7日</span>
                        </div>
                        <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                            <div class="h-full bg-green-600 rounded-full" style="width: 100%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- タブコンテンツ: AI（初期非表示） -->
        <div id="content-ai" class="p-4 space-y-4 hidden">
            <!-- AI分析 -->
            <div class="bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-200 p-4">
                <div class="flex items-center justify-between mb-3">
                    <h4 class="font-bold flex items-center gap-2 text-purple-800 text-sm">
                        <i data-lucide="sparkles" class="w-4 h-4"></i>
                        AI分析
                    </h4>
                    <button class="flex items-center gap-1 px-2 py-1 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition text-xs">
                        <i data-lucide="refresh-cw" class="w-3 h-3"></i>
                        再生成
                    </button>
                </div>
                <div class="text-xs text-gray-700 leading-relaxed space-y-3">
                    <div>
                        <p class="font-bold mb-1">本日の振り返り</p>
                        <p>タンパク質を目標の102%達成、素晴らしいですね！カロリーも95%とほぼ完璧です。脂質が88%とやや目標を下回っていますが、全体的に非常にバランスの取れた食事内容でした。</p>
                    </div>
                    <div>
                        <p class="font-bold mb-1">明日のワンポイント</p>
                        <p>脂質がやや不足気味です。良質な脂質を摂取するため、アボカド（約15g）、ミックスナッツ（約20g）、またはオリーブオイル（大さじ1杯）を食事に追加すると良いでしょう。</p>
                    </div>
                    <div>
                        <p class="font-bold mb-1">長期的な視点</p>
                        <p>過去30日間のデータから、あなたは非常に安定した食習慣を維持できています。この調子で継続すれば、目標達成は確実です。</p>
                    </div>
                </div>
            </div>

            <!-- AIプランニング -->
            <div class="bg-gradient-to-br from-green-50 to-teal-50 rounded-xl border border-green-200 p-4">
                <h4 class="font-bold mb-2 flex items-center gap-2 text-gray-800 text-sm">
                    <i data-lucide="file-edit" class="w-4 h-4 text-green-600"></i>
                    AIプランニング
                </h4>
                <p class="text-xs text-gray-600 mb-3">
                    今日のデータをもとに、編集可能なプランを作成します
                </p>
                <button class="w-full bg-gradient-to-r from-green-600 to-teal-600 text-white font-bold py-2.5 rounded-lg hover:from-green-700 hover:to-teal-700 transition flex items-center justify-center gap-2 text-sm">
                    <i data-lucide="sparkles" class="w-4 h-4"></i>
                    AIプランを作成
                </button>
            </div>

            <!-- AI使用履歴 -->
            <div class="bg-white rounded-xl border border-gray-200 p-4">
                <h4 class="font-bold mb-3 flex items-center gap-2 text-gray-800 text-sm">
                    <i data-lucide="clock" class="w-4 h-4 text-gray-600"></i>
                    最近のAI分析
                </h4>
                <div class="space-y-2">
                    <div class="bg-gray-50 rounded-lg p-3 text-xs">
                        <div class="flex justify-between items-center mb-1">
                            <span class="font-medium text-gray-800">10月14日(月)</span>
                            <span class="text-gray-500">総合94%</span>
                        </div>
                        <p class="text-gray-600">カロリー・タンパク質ともに目標達成。継続中。</p>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3 text-xs">
                        <div class="flex justify-between items-center mb-1">
                            <span class="font-medium text-gray-800">10月13日(日)</span>
                            <span class="text-gray-500">総合89%</span>
                        </div>
                        <p class="text-gray-600">炭水化物がやや不足。夕食で補完を推奨。</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 説明 -->
        <div class="p-4">
            <div class="bg-blue-50 rounded-xl p-4 border border-blue-200">
                <h3 class="font-bold text-gray-800 mb-2 text-sm">候補2の特徴</h3>
                <ul class="text-xs text-gray-600 space-y-1">
                    <li>✅ タブで情報を明確に分離（サマリー/詳細/AI）</li>
                    <li>✅ 各タブに集中できる（情報過多にならない）</li>
                    <li>✅ 総合評価を大きく表示（サマリータブ）</li>
                    <li>✅ AI機能を専用タブで充実</li>
                    <li>✅ スクロール量が少ない</li>
                    <li>❌ タブ切り替えが必要</li>
                    <li>❌ 全体を一度に見渡せない</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // タブ切り替え機能
        const tabs = ['summary', 'details', 'ai'];
        tabs.forEach(tab => {
            document.getElementById(`tab-${tab}`).addEventListener('click', () => {
                // 全タブボタンをリセット
                tabs.forEach(t => {
                    const btn = document.getElementById(`tab-${t}`);
                    const content = document.getElementById(`content-${t}`);
                    btn.classList.remove('border-purple-600', 'text-purple-600', 'bg-purple-50');
                    btn.classList.add('border-transparent', 'text-gray-500');
                    content.classList.add('hidden');
                });

                // クリックされたタブをアクティブに
                const activeBtn = document.getElementById(`tab-${tab}`);
                const activeContent = document.getElementById(`content-${tab}`);
                activeBtn.classList.remove('border-transparent', 'text-gray-500');
                activeBtn.classList.add('border-purple-600', 'text-purple-600', 'bg-purple-50');
                activeContent.classList.remove('hidden');
            });
        });
    </script>
</body>
</html>
