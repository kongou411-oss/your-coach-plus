<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ³•äººãƒ»ã‚¸ãƒ å‘ã‘ãƒ—ãƒ©ãƒ³ - Your Coach+</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black">
    <div class="min-h-screen">
        <!-- Header -->
        <header class="bg-black border-b border-gray-800 sticky top-0 z-50">
            <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold text-white">Your Coach<span class="text-[#4A9EFF]">+</span></h1>
                    <p class="text-sm text-gray-400">æ³•äººãƒ»ã‚¸ãƒ å‘ã‘ãƒ—ãƒ©ãƒ³</p>
                </div>
                <a href="/home.html" class="text-gray-400 hover:text-white transition">â† ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a>
            </div>
        </header>

        <!-- Hero -->
        <div class="bg-gradient-to-r from-gray-900 to-black text-white py-16 border-b border-gray-800">
            <div class="max-w-6xl mx-auto px-4 text-center">
                <div class="text-5xl mb-4">ğŸ¢</div>
                <h1 class="text-4xl md:text-5xl font-bold mb-4">æ³•äººãƒ»ã‚¸ãƒ å‘ã‘ãƒ—ãƒ©ãƒ³</h1>
                <p class="text-xl text-gray-300 mb-8">ä¼šå“¡æ§˜ã«ç§‘å­¦çš„ãªãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã—ã¾ã›ã‚“ã‹ï¼Ÿ</p>
            </div>
        </div>

        <!-- Pricing Plans -->
        <div class="max-w-6xl mx-auto px-4 py-16">
            <h2 class="text-3xl font-bold text-center mb-12 text-white">æ–™é‡‘ãƒ—ãƒ©ãƒ³</h2>

            <div class="grid md:grid-cols-3 gap-8 mb-16">
                <!-- ãƒ“ã‚®ãƒŠãƒ¼ãƒ—ãƒ©ãƒ³ -->
                <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-xl hover:shadow-[#4A9EFF]/20 transition" data-plan="beginner">
                    <h3 class="text-2xl font-bold mb-4 text-gray-900">ãƒ“ã‚®ãƒŠãƒ¼ãƒ—ãƒ©ãƒ³</h3>
                    <div class="text-4xl font-bold text-[#4A9EFF] mb-2">Â¥107,160</div>
                    <p class="text-gray-600 mb-6">å¹´é–“ãƒ—ãƒ©ãƒ³ï¼ˆç¨è¾¼ï¼‰</p>

                    <ul class="space-y-3 mb-8">
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">æœ€å¤§10äººã¾ã§ã”åˆ©ç”¨å¯èƒ½</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">1äººã‚ãŸã‚ŠÂ¥893/æœˆ</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">é€šå¸¸ä¾¡æ ¼ã‚ˆã‚Š5%å‰²å¼•</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">å…¨Premiumæ©Ÿèƒ½åˆ©ç”¨å¯èƒ½</span>
                        </li>
                    </ul>

                    <button onclick="selectPlan('beginner')" class="w-full bg-[#4A9EFF] text-white font-bold py-3 rounded-lg hover:bg-[#3b8fef] transition">
                        ã“ã®ãƒ—ãƒ©ãƒ³ã‚’é¸æŠ
                    </button>
                </div>

                <!-- ãƒ—ãƒ­ãƒ—ãƒ©ãƒ³ -->
                <div class="bg-white rounded-2xl shadow-xl p-8 border-4 border-[#4A9EFF] transform scale-105 hover:shadow-2xl hover:shadow-[#4A9EFF]/30 transition" data-plan="pro">
                    <div class="bg-[#4A9EFF] text-white text-xs font-bold px-3 py-1 rounded-full inline-block mb-4">ãŠã™ã™ã‚</div>
                    <h3 class="text-2xl font-bold mb-4 text-gray-900">ãƒ—ãƒ­ãƒ—ãƒ©ãƒ³</h3>
                    <div class="text-4xl font-bold text-[#4A9EFF] mb-2">Â¥304,560</div>
                    <p class="text-gray-600 mb-6">å¹´é–“ãƒ—ãƒ©ãƒ³ï¼ˆç¨è¾¼ï¼‰</p>

                    <ul class="space-y-3 mb-8">
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">æœ€å¤§30äººã¾ã§ã”åˆ©ç”¨å¯èƒ½</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">1äººã‚ãŸã‚ŠÂ¥846/æœˆ</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">é€šå¸¸ä¾¡æ ¼ã‚ˆã‚Š10%å‰²å¼•</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">å…¨Premiumæ©Ÿèƒ½åˆ©ç”¨å¯èƒ½</span>
                        </li>
                    </ul>

                    <button onclick="selectPlan('pro')" class="w-full bg-[#4A9EFF] text-white font-bold py-3 rounded-lg hover:bg-[#3b8fef] transition">
                        ã“ã®ãƒ—ãƒ©ãƒ³ã‚’é¸æŠ
                    </button>
                </div>

                <!-- MAXãƒ—ãƒ©ãƒ³ -->
                <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-xl hover:shadow-[#4A9EFF]/20 transition" data-plan="max">
                    <h3 class="text-2xl font-bold mb-4 text-gray-900">MAXãƒ—ãƒ©ãƒ³</h3>
                    <div class="text-4xl font-bold text-[#4A9EFF] mb-2">Â¥600,000</div>
                    <p class="text-gray-600 mb-6">å¹´é–“ãƒ—ãƒ©ãƒ³ï¼ˆç¨è¾¼ï¼‰</p>

                    <ul class="space-y-3 mb-8">
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">ç„¡åˆ¶é™ã§ã”åˆ©ç”¨å¯èƒ½</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">1äººã‚ãŸã‚ŠÂ¥799/æœˆï¼ˆç´„63äººåˆ†ï¼‰</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">é€šå¸¸ä¾¡æ ¼ã‚ˆã‚Š15%å‰²å¼•</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-[#4A9EFF]">âœ“</span>
                            <span class="text-sm text-gray-700">å¤§è¦æ¨¡ã‚¸ãƒ ãƒ»ãƒ•ãƒ©ãƒ³ãƒãƒ£ã‚¤ã‚ºå‘ã‘</span>
                        </li>
                    </ul>

                    <button onclick="selectPlan('max')" class="w-full bg-[#4A9EFF] text-white font-bold py-3 rounded-lg hover:bg-[#3b8fef] transition">
                        ã“ã®ãƒ—ãƒ©ãƒ³ã‚’é¸æŠ
                    </button>
                </div>
            </div>

            <!-- ä¼æ¥­æƒ…å ±å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  -->
            <div id="company-form" class="max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-8 hidden">
                <h2 class="text-2xl font-bold mb-6 text-gray-900">ä¼æ¥­æƒ…å ±ã®å…¥åŠ›</h2>

                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ä¼æ¥­ãƒ»æ–½è¨­å <span class="text-red-500">*</span></label>
                        <input type="text" id="companyName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-[#4A9EFF]" placeholder="ä¾‹: æ±äº¬ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ã‚¸ãƒ " required>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ <span class="text-red-500">*</span></label>
                        <input type="email" id="companyEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-[#4A9EFF]" placeholder="ä¾‹: info@example.com" required>
                        <p class="text-xs text-gray-500 mt-1">ã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ¼ãƒ‰ã®é€ä»˜å…ˆã¨ãªã‚Šã¾ã™</p>
                    </div>

                    <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                        <p class="text-sm text-gray-700">
                            <strong>é¸æŠä¸­ã®ãƒ—ãƒ©ãƒ³:</strong> <span id="selected-plan-name"></span><br>
                            <strong>æ–™é‡‘:</strong> <span id="selected-plan-price"></span>
                        </p>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="cancelSelection()" class="flex-1 bg-gray-200 text-gray-700 font-bold py-3 rounded-lg hover:bg-gray-300 transition">
                            ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                        </button>
                        <button onclick="proceedToCheckout()" id="checkout-btn" class="flex-1 bg-[#4A9EFF] text-white font-bold py-3 rounded-lg hover:bg-[#3b8fef] transition">
                            ãŠæ”¯æ‰•ã„ãƒšãƒ¼ã‚¸ã¸ â†’
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <div class="bg-black border-t border-gray-800 py-16">
            <div class="max-w-6xl mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-12 text-white">Premiumæ©Ÿèƒ½ä¸€è¦§</h2>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white rounded-xl p-6 shadow-lg hover:shadow-xl hover:shadow-[#4A9EFF]/20 transition">
                        <div class="text-3xl mb-3">ğŸ¤–</div>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">AIåˆ†ææ©Ÿèƒ½</h3>
                        <p class="text-gray-600">Google Gemini AIã«ã‚ˆã‚‹é«˜åº¦ãªæ „é¤Šåˆ†æã€‚æ¯æœˆ100å›ã®åˆ†æã‚¯ãƒ¬ã‚¸ãƒƒãƒˆä»˜ä¸ã€‚</p>
                    </div>

                    <div class="bg-white rounded-xl p-6 shadow-lg hover:shadow-xl hover:shadow-[#4A9EFF]/20 transition">
                        <div class="text-3xl mb-3">ğŸ“Š</div>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">ç„¡åˆ¶é™ã®è¨˜éŒ²ã¨å±¥æ­´</h3>
                        <p class="text-gray-600">é£Ÿäº‹ãƒ»é‹å‹•ãƒ»ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚’ç„¡åˆ¶é™ã«è¨˜éŒ²ã€‚é•·æœŸçš„ãªãƒˆãƒ¬ãƒ³ãƒ‰ã‚’åˆ†æå¯èƒ½ã€‚</p>
                    </div>

                    <div class="bg-white rounded-xl p-6 shadow-lg hover:shadow-xl hover:shadow-[#4A9EFF]/20 transition">
                        <div class="text-3xl mb-3">ğŸ“š</div>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">PG BASEæ•™ç§‘æ›¸</h3>
                        <p class="text-gray-600">ãƒœãƒ‡ã‚£ãƒ¡ã‚¤ã‚¯ã®ç†è«–ã¨çŸ¥è­˜ã‚’ä½“ç³»çš„ã«å­¦ã¹ã‚‹æ•™ç§‘æ›¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€‚</p>
                    </div>

                    <div class="bg-white rounded-xl p-6 shadow-lg hover:shadow-xl hover:shadow-[#4A9EFF]/20 transition">
                        <div class="text-3xl mb-3">ğŸ‘¥</div>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">COMYã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£</h3>
                        <p class="text-gray-600">åŒã˜ç›®æ¨™ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨äº¤æµã€‚ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ç¶­æŒã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-black border-t border-gray-800 text-white py-8">
            <div class="max-w-6xl mx-auto px-4 text-center">
                <p class="text-gray-400">Â© 2025 Your Coach<span class="text-[#4A9EFF]">+</span>. All rights reserved.</p>
                <div class="mt-4 space-x-4">
                    <a href="/privacy.html" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-[#4A9EFF] transition">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
                    <a href="/terms.html" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-[#4A9EFF] transition">åˆ©ç”¨è¦ç´„</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-functions-compat.js"></script>
    <script src="/config.js"></script>

    <script>
        // FirebaseåˆæœŸåŒ–
        firebase.initializeApp(FIREBASE_CONFIG);
        const functions = firebase.app().functions('asia-northeast2');

        let selectedPlanId = null;

        const plans = {
            'beginner': {
                name: 'ãƒ“ã‚®ãƒŠãƒ¼ãƒ—ãƒ©ãƒ³',
                price: 'Â¥107,160/å¹´',
                licenses: 10
            },
            'pro': {
                name: 'ãƒ—ãƒ­ãƒ—ãƒ©ãƒ³',
                price: 'Â¥304,560/å¹´',
                licenses: 30
            },
            'max': {
                name: 'MAXãƒ—ãƒ©ãƒ³',
                price: 'Â¥600,000/å¹´',
                licenses: 'ç„¡åˆ¶é™'
            }
        };

        function selectPlan(planId) {
            selectedPlanId = planId;

            // ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤º
            document.getElementById('company-form').classList.remove('hidden');
            document.getElementById('selected-plan-name').textContent = plans[planId].name;
            document.getElementById('selected-plan-price').textContent = plans[planId].price;

            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            document.getElementById('company-form').scrollIntoView({ behavior: 'smooth' });
        }

        function cancelSelection() {
            selectedPlanId = null;
            document.getElementById('company-form').classList.add('hidden');
            document.getElementById('companyName').value = '';
            document.getElementById('companyEmail').value = '';
        }

        async function proceedToCheckout() {
            if (!selectedPlanId) return;

            const companyName = document.getElementById('companyName').value.trim();
            const companyEmail = document.getElementById('companyEmail').value.trim();

            if (!companyName || !companyEmail) {
                alert('ä¼æ¥­åã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            // ãƒ¡ãƒ¼ãƒ«å½¢å¼ãƒã‚§ãƒƒã‚¯
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(companyEmail)) {
                alert('æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            const btn = document.getElementById('checkout-btn');
            btn.disabled = true;
            btn.textContent = 'å‡¦ç†ä¸­...';

            try {
                const createCheckout = functions.httpsCallable('createB2B2CCheckoutSession');
                const result = await createCheckout({
                    planId: selectedPlanId,
                    companyName: companyName,
                    companyEmail: companyEmail,
                    successUrl: window.location.origin + '/b2b2c-success.html',
                    cancelUrl: window.location.origin + '/b2b2c.html'
                });

                if (result.data.url) {
                    // Stripe Checkoutãƒšãƒ¼ã‚¸ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
                    window.location.href = result.data.url;
                }
            } catch (error) {
                console.error('Error:', error);
                alert('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.message);
                btn.disabled = false;
                btn.textContent = 'ãŠæ”¯æ‰•ã„ãƒšãƒ¼ã‚¸ã¸ â†’';
            }
        }
    </script>
</body>
</html>
